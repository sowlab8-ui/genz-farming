
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>GenZ Farming</title>
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#2f855a">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body {
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
      background: #f0fff0;
      color: #333;
    }
    header {
      background-color: #2f855a;
      color: white;
      padding: 1.5rem;
      text-align: center;
      font-size: 2rem;
    }
    .lang-switch {
      text-align: center;
      margin: 1rem;
    }
    .container {
      padding: 2rem;
      max-width: 1200px;
      margin: auto;
    }
    .section {
      background: #ffffff;
      padding: 1.5rem;
      border-radius: 10px;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
      margin-bottom: 2rem;
    }
    .section h2 {
      color: #2f855a;
      margin-bottom: 1rem;
    }
    select, input[type="date"], button {
      padding: 0.5rem;
      width: 100%;
      max-width: 300px;
      border: 1px solid #ccc;
      border-radius: 5px;
      margin-top: 0.5rem;
    }
    button {
      background-color: #2f855a;
      color: white;
      border: none;
      cursor: pointer;
      margin-top: 1rem;
    }
    button:hover {
      background-color: #276749;
    }
    ul {
      padding-left: 1.5rem;
    }
    iframe {
      width: 100%;
      height: 300px;
      border: none;
      margin-top: 1rem;
    }
    .buyer {
      margin-top: 1rem;
      background: #e6fffa;
      padding: 1rem;
      border-radius: 8px;
    }
    canvas {
      margin-top: 1rem;
    }
    #installBtn {
      display: none;
      position: fixed;
      right: 16px;
      bottom: 16px;
      z-index: 1000;
      padding: 0.75rem 1rem;
      background: #2f855a;
      color: #fff;
      border: none;
      border-radius: 8px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.15);
      cursor: pointer;
    }
    #installBtn:hover { background: #276749 }
  </style>
</head>
<body>
  <header>üåæ <span data-lang="header">GenZ Farming</span></header>
  <button id="installBtn">‚ûï Add to Home Screen</button>
  <div class="lang-switch">
    <label for="language">üåê Language:</label>
    <select id="language" onchange="switchLanguage()">
      <option value="en">English</option>
      <option value="ta">‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç</option>
    </select>
  </div>
  <div class="container">

    <div class="section">
      <h2>üå± <span data-lang="seedCounter">Seed Counter</span></h2>
      <label data-lang="selectSeed" for="seedCount">Select Seed Count:</label>
      <select id="seedCount">
        <option value="">-- Select Count --</option>
        <option value="100">100</option>
        <option value="200">200</option>
        <option value="300">300</option>
      </select>
    </div>

    <div class="section">
      <h2>üìç <span data-lang="gps">GPS Tracking</span></h2>
      <p data-lang="gpsDesc">Real-time GPS coordinates of your farm for efficient monitoring and logistics planning.</p>
      <ul>
        <li data-lang="lat">Latitude: 19.4326¬∞ N</li>
        <li data-lang="long">Longitude: 99.1332¬∞ W</li>
        <li data-lang="status">Status: Tracking Active</li>
      </ul>
    </div>

    <div class="section">
      <h2>üìú <span data-lang="history">History of Crop</span></h2>
      <p data-lang="historyDesc">View previously cultivated crops and productivity stats for your land.</p>
      <canvas id="cropChart"></canvas>
    </div>

    <div class="section">
      <h2>üé¨ <span data-lang="videoGuide">Video Guide</span></h2>
      <p data-lang="videoDesc">Watch this video to understand how to track and manage your crops.</p>
      <iframe src="https://www.youtube.com/embed/4QwKNx4FqH8" allowfullscreen></iframe>
    </div>

    <div class="section">
      <h2>üìÖ <span data-lang="auctionDate">Auction Date</span></h2>
      <label for="auctionDate" data-lang="selectDate">Select Selling Date:</label>
      <input type="date" id="auctionDate">
    </div>

    <div class="section">
      <h2>üì¢ <span data-lang="poleAuction">Pole & Auction</span></h2>
      <p><strong data-lang="auctionStart">Auction Starting Price:</strong> ‚Çπ2,000 per quintal</p>
      <p data-lang="bids">Current bids from buyers:</p>
      <div class="buyer">
        <strong data-lang="buyer">Buyer:</strong> Rohan Traders<br/>
        <strong data-lang="bid">Bid:</strong> ‚Çπ2,500 per quintal
      </div>
      <div class="buyer">
        <strong data-lang="buyer">Buyer:</strong> AgriCorp Ltd<br/>
        <strong data-lang="bid">Bid:</strong> ‚Çπ2,650 per quintal
      </div>
      <div class="buyer">
        <strong data-lang="buyer">Buyer:</strong> FarmFresh Co<br/>
        <strong data-lang="bid">Bid:</strong> ‚Çπ2,800 per quintal
      </div>
    </div>

    <div class="section">
      <h2>üí≥ <span data-lang="paymentDetails">Payment Details</span></h2>
      <label for="paymentMode" data-lang="selectPayment">Select Payment Mode:</label>
      <select id="paymentMode">
        <option value="">-- Select Payment Method --</option>
        <option value="upi">UPI</option>
        <option value="bank">Bank Transfer</option>
        <option value="cash">Cash</option>
      </select>
      <button onclick="alert('Payment process initiated (not functional in static mode).')"
        data-lang="payNow">Pay Now</button>
    </div>

    <div class="section">
      <h2>üë§ <span data-lang="buyerDetails">Buyer Details</span></h2>
      <div class="buyer">
        <strong data-lang="name">Name:</strong> Arjun Mehta<br/>
        <strong data-lang="company">Company:</strong> FarmDealers Pvt Ltd<br/>
        <strong data-lang="contact">Contact:</strong> arjun@farmdealers.in<br/>
        <strong data-lang="phone">Phone:</strong> +91 98765 43210
      </div>
    </div>

    <div class="section">
      <h2>üöö <span data-lang="deliveryDate">Delivery Date</span></h2>
      <label for="deliveryDate" data-lang="selectDelivery">Select Expected Delivery Date:</label>
      <input type="date" id="deliveryDate">
    </div>

  </div>

<script>
const translations = {
  ta: {
    header: "‡Æú‡ØÜ‡Æ©‡ØçZ ‡Æµ‡Æø‡Æµ‡Æö‡Ææ‡ÆØ‡ÆÆ‡Øç",
    seedCounter: "‡Æµ‡Æø‡Æ§‡Øà ‡Æé‡Æ£‡Øç‡Æ£‡Æø‡Æï‡Øç‡Æï‡Øà",
    selectSeed: "‡Æµ‡Æø‡Æ§‡Øà ‡Æé‡Æ£‡Øç‡Æ£‡Æø‡Æï‡Øç‡Æï‡Øà‡ÆØ‡Øà ‡Æ§‡Øá‡Æ∞‡Øç‡Æ®‡Øç‡Æ§‡ØÜ‡Æü‡ØÅ‡Æï‡Øç‡Æï‡Æµ‡ØÅ‡ÆÆ‡Øç:",
    gps: "‡Æú‡Æø‡Æ™‡Æø‡Æé‡Æ∏‡Øç ‡Æï‡Æ£‡Øç‡Æï‡Ææ‡Æ£‡Æø‡Æ™‡Øç‡Æ™‡ØÅ",
    gpsDesc: "‡Æâ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æ™‡Æ£‡Øç‡Æ£‡Øà‡ÆØ‡Æø‡Æ©‡Øç ‡Æá‡Æü‡Æ§‡Æö‡Øà‡Æï‡Æ≥‡Øà ‡Æ®‡Øá‡Æ∞‡Æü‡Æø ‡Æï‡Æ£‡Øç‡Æï‡Ææ‡Æ£‡Æø‡Æï‡Øç‡Æï‡Æµ‡ØÅ‡ÆÆ‡Øç.",
    lat: "‡ÆÖ‡Æï‡Æ≤‡Ææ‡Æï‡Øç‡Æï‡Øã‡Æ£‡ÆÆ‡Øç: 19.4326¬∞ N",
    long: "‡Æ®‡ØÄ‡Æ≥‡Ææ‡Æï‡Øç‡Æï‡Øã‡Æ£‡ÆÆ‡Øç: 99.1332¬∞ W",
    status: "‡Æ®‡Æø‡Æ≤‡Øà: ‡Æï‡Æ£‡Øç‡Æï‡Ææ‡Æ£‡Æø‡Æ™‡Øç‡Æ™‡ØÅ ‡Æö‡ØÜ‡ÆØ‡Æ≤‡Æø‡Æ≤‡Øç ‡Æâ‡Æ≥‡Øç‡Æ≥‡Æ§‡ØÅ",
    history: "‡Æµ‡Æø‡Æµ‡Æö‡Ææ‡ÆØ ‡Æµ‡Æ∞‡Æ≤‡Ææ‡Æ±‡ØÅ",
    historyDesc: "‡ÆÆ‡ØÅ‡Æ®‡Øç‡Æ§‡Øà‡ÆØ ‡Æ™‡ÆØ‡Æø‡Æ∞‡Øç‡Æï‡Æ≥‡Øç ‡ÆÆ‡Æ±‡Øç‡Æ±‡ØÅ‡ÆÆ‡Øç ‡Æµ‡Æø‡Æ≥‡Øà‡Æö‡Øç‡Æö‡Æ≤‡Øç ‡Æ™‡ØÅ‡Æ≥‡Øç‡Æ≥‡Æø‡Æµ‡Æø‡Æµ‡Æ∞‡Æô‡Øç‡Æï‡Æ≥‡Øà ‡Æï‡Ææ‡Æ£‡Øç‡Æï.",
    videoGuide: "‡Æµ‡ØÄ‡Æü‡Æø‡ÆØ‡Øã ‡Æµ‡Æ¥‡Æø‡Æï‡Ææ‡Æü‡Øç‡Æü‡Æø",
    videoDesc: "‡Æ™‡ÆØ‡Æø‡Æ∞‡Øç‡Æï‡Æ≥‡Øà ‡Æï‡Æ£‡Øç‡Æï‡Ææ‡Æ£‡Æø‡Æï‡Øç‡Æï ‡ÆÆ‡Æ±‡Øç‡Æ±‡ØÅ‡ÆÆ‡Øç ‡Æ®‡Æø‡Æ∞‡Øç‡Æµ‡Æï‡Æø‡Æï‡Øç‡Æï ‡Æµ‡ØÄ‡Æü‡Æø‡ÆØ‡Øã‡Æµ‡Øà ‡Æ™‡Ææ‡Æ∞‡ØÅ‡Æô‡Øç‡Æï‡Æ≥‡Øç.",
    auctionDate: "‡Æ≤‡Øá‡Æ≤‡ÆÆ‡Øç ‡Æ§‡Øá‡Æ§‡Æø",
    selectDate: "‡Æµ‡Æø‡Æ±‡Øç‡Æ™‡Æ©‡Øà ‡Æ§‡Øá‡Æ§‡Æø‡ÆØ‡Øà ‡Æ§‡Øá‡Æ∞‡Øç‡Æµ‡ØÅ ‡Æö‡ØÜ‡ÆØ‡Øç‡ÆØ‡Æµ‡ØÅ‡ÆÆ‡Øç:",
    poleAuction: "‡Æ§‡ØÇ‡Æ£‡Øç ‡ÆÆ‡Æ±‡Øç‡Æ±‡ØÅ‡ÆÆ‡Øç ‡Æ≤‡Øá‡Æ≤‡ÆÆ‡Øç",
    auctionStart: "‡Æ≤‡Øá‡Æ≤‡ÆÆ‡Øç ‡ÆÜ‡Æ∞‡ÆÆ‡Øç‡Æ™ ‡Æµ‡Æø‡Æ≤‡Øà:",
    bids: "‡Æµ‡Ææ‡Æô‡Øç‡Æï‡ØÅ‡Æ™‡Æµ‡Æ∞‡Øç‡Æï‡Æ≥‡Æø‡Æ©‡Øç ‡Æ§‡Æ±‡Øç‡Æ™‡Øã‡Æ§‡Øà‡ÆØ ‡Æ™‡Æ£‡Æø‡Æï‡Æ≥‡Øç:",
    buyer: "‡Æµ‡Ææ‡Æô‡Øç‡Æï‡ØÅ‡Æ™‡Æµ‡Æ∞‡Øç:",
    bid: "‡Æ™‡Æ£‡ÆÆ‡Øç:",
    paymentDetails: "‡Æï‡Æü‡Øç‡Æü‡Æ£ ‡Æµ‡Æø‡Æµ‡Æ∞‡Æô‡Øç‡Æï‡Æ≥‡Øç",
    selectPayment: "‡Æï‡Æü‡Øç‡Æü‡Æ£ ‡ÆÆ‡ØÅ‡Æ±‡Øà‡ÆØ‡Øà‡Æ§‡Øç ‡Æ§‡Øá‡Æ∞‡Øç‡Æ®‡Øç‡Æ§‡ØÜ‡Æü‡ØÅ‡Æï‡Øç‡Æï‡Æµ‡ØÅ‡ÆÆ‡Øç:",
    payNow: "‡Æá‡Æ™‡Øç‡Æ™‡Øã‡Æ§‡Øá ‡Æö‡ØÜ‡Æ≤‡ØÅ‡Æ§‡Øç‡Æ§‡ØÅ",
    buyerDetails: "‡Æµ‡Ææ‡Æô‡Øç‡Æï‡ØÅ‡Æ™‡Æµ‡Æ∞‡Øç ‡Æµ‡Æø‡Æµ‡Æ∞‡Æô‡Øç‡Æï‡Æ≥‡Øç",
    name: "‡Æ™‡ØÜ‡ÆØ‡Æ∞‡Øç:",
    company: "‡Æ®‡Æø‡Æ±‡ØÅ‡Æµ‡Æ©‡ÆÆ‡Øç:",
    contact: "‡Æ§‡Øä‡Æü‡Æ∞‡Øç‡Æ™‡ØÅ:",
    phone: "‡Æ§‡Øä‡Æ≤‡Øà‡Æ™‡Øá‡Æö‡Æø:",
    deliveryDate: "‡Æµ‡Æø‡Æ®‡Æø‡ÆØ‡Øã‡Æï ‡Æ§‡Øá‡Æ§‡Æø",
    selectDelivery: "‡Æµ‡Æø‡Æ©‡Æø‡ÆØ‡Øã‡Æï ‡Æ§‡Øá‡Æ§‡Æø‡ÆØ‡Øà‡Æ§‡Øç ‡Æ§‡Øá‡Æ∞‡Øç‡Æ®‡Øç‡Æ§‡ØÜ‡Æü‡ØÅ‡Æï‡Øç‡Æï‡Æµ‡ØÅ‡ÆÆ‡Øç:"
  }
};

function switchLanguage() {
  const lang = document.getElementById("language").value;
  const elements = document.querySelectorAll("[data-lang]");
  elements.forEach(el => {
    const key = el.getAttribute("data-lang");
    el.textContent = (lang === "ta" && translations.ta[key]) ? translations.ta[key] : defaultText[key];
  });
}

const defaultText = {};
window.onload = () => {
  document.querySelectorAll("[data-lang]").forEach(el => {
    const key = el.getAttribute("data-lang");
    defaultText[key] = el.textContent;
  });
};
</script>

<script>
  const ctx = document.getElementById('cropChart').getContext('2d');
  new Chart(ctx, {
    type: 'bar',
    data: {
      labels: ['2022 - Wheat', '2023 - Corn', '2024 - Rice'],
      datasets: [{
        label: 'Yield (tons)',
        data: [8, 10, 7.5],
        backgroundColor: ['#68D391', '#48BB78', '#38A169']
      }]
    },
    options: {
      responsive: true,
      plugins: {
        legend: { display: false },
        title: {
          display: true,
          text: 'Crop Yield by Year'
        }
      },
      scales: {
        y: {
          beginAtZero: true,
          title: { display: true, text: 'Tons' }
        }
      }
    }
  });
</script>
<script>
  // Handle Add to Home Screen prompt for Chrome (beforeinstallprompt)
  let deferredPrompt;
  const installBtn = document.getElementById('installBtn');

  window.addEventListener('beforeinstallprompt', (e) => {
    e.preventDefault();
    deferredPrompt = e;
    installBtn.style.display = 'block';
  });

  installBtn.addEventListener('click', async () => {
    if (!deferredPrompt) return;
    deferredPrompt.prompt();
    const choice = await deferredPrompt.userChoice;
    if (choice.outcome === 'accepted') {
      console.log('User accepted the A2HS prompt');
    } else {
      console.log('User dismissed the A2HS prompt');
    }
    deferredPrompt = null;
    installBtn.style.display = 'none';
  });

  window.addEventListener('appinstalled', () => {
    console.log('PWA was installed');
    installBtn.style.display = 'none';
  });

  // Register service worker for offline support
  if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('service-worker.js')
      .then(reg => console.log('Service worker registered.', reg))
      .catch(err => console.warn('Service worker registration failed:', err));
  }
</script>
</body>
</html>
